<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <script src="ItcastRect.js"></script>
    <title></title>
</head>
<body>
    <canvas id="canvas1">
        IE9以上刘拉紧器支持，请升级您的浏览器。
    </canvas>
    <canvas id="canvas2"></canvas>
    <img src="" id="imgId" alt="">
    <script>
        (function(){
            var canvas1 = document.getElementById('canvas1');
            canvas1.width = 400;
            canvas1.height = 400;
            canvas1.style.border = '1px solid black';
            var ctx1 = canvas1.getContext('2d');

            var canvas2 = document.getElementById('canvas2');
            canvas2.width = 400;
            canvas2.height = 400;
            canvas2.style.border = '1px solid yellow';
            var ctx2 = canvas2.getContext('2d');

            var option = {
                x: 10,				// 矩形x坐标
                y: 10,
                w: 100,
                h: 100,
                opacity: .6,	   //透明度
                rotation: 0,	   //旋转角度
                scaleX: 1,		   //放大缩小的倍数
                scaleY: 1,
                fillStyle: 'purple',	//填充的样式
                strokeStyle: 'yellow'
            };

            var rect = new ItcastRect(option);
            rect.render(ctx1);

            //把canvas输出到一张图片上去
            var img = document.getElementById('imgId');
            img.src = canvas1.toDataURL('image/png');

            setInterval(function(){
                ctx1.clearRect(0,0,canvas1.width,canvas1.height);
                rect.x += 20;
                rect.render(ctx1);
                ctx2.drawImage(canvas1, 0, 0);
            },100);


        })();
    </script>
</body>
</html>